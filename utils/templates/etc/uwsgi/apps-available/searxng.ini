# -*- mode: conf; coding: utf-8  -*-
[uwsgi]

#################################
# ğŸŒ Environment Setup
#################################
env = LANG=C.UTF-8
env = LANGUAGE=C.UTF-8
env = LC_ALL=C.UTF-8

#################################
# ğŸ“‚ App Paths
#################################
# ØºÙŠØ±Ù†Ø§ Ø§Ù„Ù€ chdir Ø¹Ø´Ø§Ù† ÙŠØ±ÙˆØ­ Ø¹Ù„Ù‰ ÙÙˆÙ„Ø¯Ø± Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ù…Ø¨Ø§Ø´Ø±Ø©
chdir = /app/searx

# Ù…Ø³Ø§Ø± Ù…Ù„Ù Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª
env = SEARXNG_SETTINGS_PATH=${SEARXNG_SETTINGS_PATH}

#################################
# âš™ï¸ Logging & Permissions
#################################
disable-logging = true
chmod-socket = 666

#################################
# âš¡ uWSGI Core Settings
#################################
single-interpreter = true
master = true
lazy-apps = true
plugin = python3,http
enable-threads = true

#################################
# ğŸ§µ Workers & Threads
#################################
# Ø¹Ø¯Ø¯ Ø§Ù„Ù€ workers Ø«Ø§Ø¨Øª Ø£Ùˆ Ù…Ù† Environment
workers = 4
threads = 4

#################################
# ğŸ Python & Virtualenv
#################################
module = searx.webapp
virtualenv = /app/.venv
pythonpath = /app

#################################
# ğŸŒ HTTP Binding
#################################
# Ø±Ø¨Ø· Ø¹Ù„Ù‰ 0.0.0.0 ÙˆØ¹Ù„Ù‰ Ø§Ù„Ù€ PORT Ø§Ù„Ù„ÙŠ Railway Ø¨ÙŠØ¨Ø¹ØªÙ‡
http = 0.0.0.0:${PORT}
buffer-size = 8192
offload-threads = %k
