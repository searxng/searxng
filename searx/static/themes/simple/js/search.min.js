import{i as e,n as t,o as n}from"./searxng.core.min.js";var r=e=>{e.value.length>0&&document.getElementById(`search`)?.submit()},i=(e,t)=>{t.classList.toggle(`empty`,e.value.length===0)},a=n=>{let r=document.getElementById(`clear_search`);t(r),i(n,r),e(`click`,r,e=>{e.preventDefault(),n.value=``,n.focus(),i(n,r)}),e(`input`,n,()=>i(n,r),{passive:!0})},o=document.getElementById(`q`);t(o);var s=window.matchMedia(`(max-width: 50em)`).matches,c=document.querySelector(`main`)?.id===`main_results`;if(s||c||o.focus(),s&&e(`focus`,o,()=>{requestAnimationFrame(()=>{let e=o.value.length;o.setSelectionRange(e,e),o.scrollLeft=o.scrollWidth})}),a(o),n.search_on_category_select&&document.querySelector(`.search_filters`)){let t=document.getElementById(`safesearch`);t&&e(`change`,t,()=>r(o));let n=document.getElementById(`time_range`);n&&e(`change`,n,()=>r(o));let i=document.getElementById(`language`);i&&e(`change`,i,()=>r(o))}var l=[...document.querySelectorAll(`button.category_button`)];for(let t of l)e(`click`,t,e=>{if(e.shiftKey){e.preventDefault(),t.classList.toggle(`selected`);return}for(let e of l)e.classList.toggle(`selected`,e===t)});var u=document.querySelector(`#search`);t(u),e(`submit`,u,e=>{e.preventDefault();let t=document.querySelector(`#selected-categories`);t&&(t.value=l.filter(e=>e.classList.contains(`selected`)).map(e=>e.name.replace(`category_`,``)).join(`,`)),u.submit()});
//# sourceMappingURL=search.min.js.map